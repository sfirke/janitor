<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • janitor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">janitor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/janitor.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tabyls.html">tabyls: a tidy, fully-featured approach to counting things</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sfirke/janitor/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/sfirke/janitor/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="janitor-2-0-1-2020-04-12" class="section level1">
<h1 class="page-header" data-toc-text="2.0.1">
<a href="#janitor-2-0-1-2020-04-12" class="anchor"></a>janitor 2.0.1 (2020-04-12)<small> 2020-04-12 </small>
</h1>
<div id="bug-fixes-and-breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-and-breaking-changes" class="anchor"></a>Bug fixes and Breaking changes</h2>
<p>Transliteration of characters within <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> now operates across operating systems, independent of differences in <code>stringi</code> installations (Fix <a href='https://github.com/sfirke/janitor/issues/365'>#365</a>, thanks to <a href='https://github.com/eamoncaddigan'>@eamoncaddigan</a> for reporting and <a href='https://github.com/billdenney'>@billdenney</a> for fixing).</p>
<p>This bug patch represents a breaking change with the way that <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> worked in janitor versions 1.2.1.9000 and 2.0.0 as the transliterations are now more generalized and follow a more best-practice approach to transliterating to ASCII.</p>
</div>
</div>
    <div id="janitor-2-0-0-2020-04-07" class="section level1">
<h1 class="page-header" data-toc-text="2.0.0">
<a href="#janitor-2-0-0-2020-04-07" class="anchor"></a>janitor 2.0.0 (2020-04-07)<small> 2020-04-08 </small>
</h1>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking changes</h2>
<ul>
<li>
<code><a href="../reference/clean_names.html">clean_names()</a></code> and <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> are now more locale-independent and translation to ASCII is simpler (in many cases, Unicode is removed, e.g., the Greek character “delta” becomes a “d”). You may also now control how substitutions occur and add your own substitutions (like “%” becoming “percent”). As a result of these changes, the clean names generated by these functions may break with what was produced in prior versions of janitor. (Fix <a href='https://github.com/sfirke/janitor/issues/331'>#331</a>, thanks to <a href='https://github.com/billdenney'>@billdenney</a>)</li>
</ul>
<p>As part of the improvements to <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> and <code><a href="../reference/clean_names.html">clean_names()</a></code>, the <code>...</code> argument was added, allowing the user to pass additional information to the underlying transformation function from the <code>snakecase</code> package, <code>to_any_case()</code>. This allows for greater user control of <code><a href="../reference/clean_names.html">clean_names()</a></code> / <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> and for new functionality like specifying <code>case = "title"</code> for transforming variable names back to title case for making plots.</p>
<ul>
<li><p>The <code>adorn_*</code> family of functions now allows control of columns to be adorned using the <code>...</code> argument. This often-requested feature results in a small breakage as the now-redundant argument <code>skip_first_col</code> in <code><a href="../reference/adorn_percentages.html">adorn_percentages()</a></code> was removed.</p></li>
<li><p>Obsolete functions were deprecated: <code>crosstab</code>, <code>adorn_crosstab</code>, <code>use_first_valid_of</code>, <code>convert_to_NA</code>, <code>remove_empty_cols</code>, <code>remove_empty_rows</code>, <code>add_totals_col</code>, <code>add_totals_row</code>.</p></li>
</ul>
</div>
<div id="major-features" class="section level2">
<h2 class="hasAnchor">
<a href="#major-features" class="anchor"></a>Major features</h2>
<ul>
<li><p>The new functions <code><a href="../reference/convert_to_date.html">convert_to_date()</a></code> and <code><a href="../reference/convert_to_date.html">convert_to_datetime()</a></code> generalize the work done by <code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> allowing conversion to date or datetimes from many forms of input from numeric, to characters that look like numbers, to characters that look like dates or datetimes, to Dates, to date-times (POSIXt) (<a href='https://github.com/sfirke/janitor/issues/310'>#310</a>, thanks to <strong>@billdenney</strong> for implementing). For instance, this succeeds: <code><a href="../reference/convert_to_date.html">convert_to_date(c("2020-02-29", "40000.1"))</a></code>.</p></li>
<li><p>The new function <code><a href="../reference/signif_half_up.html">signif_half_up()</a></code> rounds a numeric vector to the specified number of significant digits with halves rounded up (<a href='https://github.com/sfirke/janitor/issues/314'>#314</a>, thanks to <strong>@khueyama</strong> for suggesting and implementing).</p></li>
<li><p><code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> now allows the user to specify parts of names to be replaced (Fix <a href='https://github.com/sfirke/janitor/issues/316'>#316</a>, thanks to <a href='https://github.com/woodwards'>@woodwards</a> for reporting and <a href='https://github.com/woodwards'>@woodwards</a> and <a href='https://github.com/billdenney'>@billdenney</a> for implementing)</p></li>
<li><p><code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> will ensure that column names are never duplicated (Fix <a href='https://github.com/sfirke/janitor/issues/251'>#251</a>, thanks to <a href='https://github.com/jzadra'>@jzadra</a> for reporting and <a href='https://github.com/billdenney'>@billdenney</a> for implementing)</p></li>
<li><p><code><a href="../reference/clean_names.html">clean_names()</a></code> and <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> have a more generic interface where all arguments from <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> are accessible from <code><a href="../reference/clean_names.html">clean_names()</a></code> (Fix <a href='https://github.com/sfirke/janitor/issues/339'>#339</a>, thanks to <a href='https://github.com/ari-nz'>@ari-nz</a> and <a href='https://github.com/billdenney'>@billdenney</a>).</p></li>
<li><p>The variables considered by the function <code><a href="../reference/get_dupes.html">get_dupes()</a></code> can be specified using the select helper functions from <code>tidyselect</code>. This includes <code>-column_name</code> to omit a variable as well as the matching functions <code>starts_with()</code>, <code>ends_with()</code>, <code>contains()</code>, and <code>matches()</code>. See <code><a href="https://tidyselect.r-lib.org/reference/select_helpers.html">?tidyselect::select_helpers</a></code> for more (<a href='https://github.com/sfirke/janitor/issues/326'>#326</a>, thanks to <strong>@jzadra</strong> for suggesting and implementing).</p></li>
</ul>
</div>
<div id="minor-features" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-features" class="anchor"></a>Minor features</h2>
<ul>
<li><p>A <code>quiet</code> argument was added to <code><a href="../reference/remove_empty.html">remove_empty()</a></code> and <code><a href="../reference/remove_constant.html">remove_constant()</a></code> providing more information when <code>quiet = 'FALSE'</code> (<a href='https://github.com/sfirke/janitor/issues/70'>#70</a>, thanks to <strong>@jbkunst</strong> for suggesting and <strong>@billdenney</strong> for implementing).</p></li>
<li><p><code><a href="../reference/row_to_names.html">row_to_names()</a></code> works on matrix input (<a href='https://github.com/sfirke/janitor/issues/320'>#320</a>, thanks to <strong>@billdenney</strong> for suggesting and implementing</p></li>
<li><p><code><a href="../reference/clean_names.html">clean_names()</a></code> can now be called on <em>tbl_graph</em> objects from the <code>tidygraph</code> package. (<a href='https://github.com/sfirke/janitor/issues/252'>#252</a>, thanks to <a href='https://github.com/gvdr'>@gvdr</a> for bringing up the issue and thanks to <a href='https://github.com/Tazinho'>@Tazinho</a> for proposing solution).</p></li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li><p><code><a href="../reference/adorn_ns.html">adorn_ns()</a></code> doesn’t append anything to character columns when called on a data.frame resulting from a call to <code><a href="../reference/adorn_percentages.html">adorn_percentages()</a></code>. (<a href='https://github.com/sfirke/janitor/issues/195'>#195</a>).</p></li>
<li><p>The <code>name</code> argument to <code><a href="../reference/adorn_totals.html">adorn_totals()</a></code> is correctly applied to 3-way tabyls (<a href='https://github.com/sfirke/janitor/issues/306'>#306</a>) (thanks to <strong>@jzadra</strong> for reporting).</p></li>
<li><p><code><a href="../reference/adorn_rounding.html">adorn_rounding()</a></code> now works when called on a 3-way tabyl.</p></li>
<li><p><code><a href="../reference/remove_constant.html">remove_constant()</a></code> works correctly with tibbles (in addition to already working on data.frames and matrices) (thanks to <strong>@billdenney</strong> for implementing).</p></li>
<li><p><code><a href="../reference/get_dupes.html">get_dupes()</a></code> works when called on a grouped tibble (<a href='https://github.com/sfirke/janitor/issues/329'>#329</a>) (thanks to <strong>@jzadra</strong> for fixing).</p></li>
<li><p>When the second variable in a tabyl (the column variable) contains the empty string <code>""</code>, it is converted to <code>"emptystring_</code> before being spread to the tabyl’s column names. Previously it became the default variable name <code>V1</code>. (<a href='https://github.com/sfirke/janitor/issues/203'>#203</a>).</p></li>
<li><p>Behind-the-scenes code changes to maintain compatibility with breaking changes to dplyr 1.0.0, tibble 3.0.0, and R 4.0.0.</p></li>
</ul>
</div>
</div>
    <div id="janitor-1-2-1-2020-01-22" class="section level1">
<h1 class="page-header" data-toc-text="1.2.1">
<a href="#janitor-1-2-1-2020-01-22" class="anchor"></a>janitor 1.2.1 (2020-01-22)<small> 2020-01-22 </small>
</h1>
<p>Adjusted a single test to account for a different error message produced by the <code>tidyselect</code> package. No changes to package functionality.</p>
</div>
    <div id="janitor-1-2-0-2019-04-20" class="section level1">
<h1 class="page-header" data-toc-text="1.2.0">
<a href="#janitor-1-2-0-2019-04-20" class="anchor"></a>janitor 1.2.0 (2019-04-20)<small> 2019-04-21 </small>
</h1>
<div id="major-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#major-features-1" class="anchor"></a>Major features</h2>
<ul>
<li>The new function <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> takes a character vector and returns the cleaned text, with the same functionality as the existing <code><a href="../reference/clean_names.html">clean_names()</a></code>, which runs on a data.frame, manipulating its names. (<a href='https://github.com/sfirke/janitor/issues/197'>#197</a>, thanks <strong>@tazinho</strong> and everyone who contributed to the discussion).</li>
</ul>
<p>This function can be supplied as a value for the <code>.name_repair</code> argument of <code>as_tibble()</code> in the <code>tibble</code> package. For example: <code>as_tibble(iris, .name_repair = make_clean_names)</code>.</p>
<ul>
<li><p>The new function <code><a href="../reference/compare_df_cols.html">compare_df_cols()</a></code> compares the names and classes of columns in a set of supplied data.frames or tibbles, reporting on the specific columns that are or are not similar. This is for the common use case where a set of data files should all have the same specifications but, in practice, may not. A companion function <code><a href="../reference/compare_df_cols_same.html">compare_df_cols_same()</a></code> gives a <code>TRUE/FALSE</code> result indicating if the columns are the same (and therefore bindable, though FALSE is not definitive that binding will fail).</p></li>
<li><p>Its helper function <code><a href="../reference/describe_class.html">describe_class()</a></code> is exported for developers who wish to extend it so that the <code>compare_df_</code> functions treat their custom classes appropriately.</p></li>
</ul>
<p>This feature (<a href='https://github.com/sfirke/janitor/issues/50'>#50</a>) took almost 3 years from conception to implementation. Major thanks to <strong>@billdenney</strong> for making it happen!</p>
<ul>
<li><p>A new function <code><a href="../reference/round_to_fraction.html">round_to_fraction()</a></code> allows rounding to a fraction with specified denominator, e.g., to the nearest 1/7 (<a href='https://github.com/sfirke/janitor/issues/235'>#235</a>, thanks to <strong>@billdenney</strong> for suggesting &amp; implementing).</p></li>
<li><p>The functions <code><a href="../reference/chisq.test.html">janitor::chisq.test()</a></code> and <code><a href="../reference/fisher.test.html">janitor::fisher.test()</a></code> to enable running these statistical tests from the base <code>stats</code> package on two-way <code>tabyl</code> objects. While the package loading message says the base functions are masked, the base tests still run on <code>table</code> objects (<a href='https://github.com/sfirke/janitor/issues/255'>#255</a>, thanks <strong>@juba</strong> for implementing).</p></li>
<li><p><code><a href="../reference/remove_empty.html">remove_empty()</a></code> now has a companion function <code><a href="../reference/remove_constant.html">remove_constant()</a></code> which removes columns containing only a single unique value, optionally ignoring <code>NA</code> (<a href='https://github.com/sfirke/janitor/issues/222'>#222</a>, thanks to <strong>@billdenney</strong> for suggesting &amp; implementing).</p></li>
</ul>
</div>
<div id="minor-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-features-1" class="anchor"></a>Minor features</h2>
<ul>
<li><p><code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> now returns a POSIXct object and includes a time zone. (<a href='https://github.com/sfirke/janitor/issues/225'>#225</a>, thanks to <strong>@billdenney</strong> for the feature.)</p></li>
<li><p><code><a href="../reference/clean_names.html">clean_names()</a></code> can now be called on a <em>simple features</em> object from the <code>sf</code> package. (<a href='https://github.com/sfirke/janitor/issues/247'>#247</a>, thanks to <strong>@JosiahParry</strong> for suggesting &amp; implementing.)</p></li>
<li><p><code><a href="../reference/adorn_totals.html">adorn_totals()</a></code> gains an argument <code>"name"</code> that allows the user to specify a value other than “Total” to appear as the name of the added row and/or column (<a href='https://github.com/sfirke/janitor/issues/263'>#263</a>). Thanks to <strong>@StephieLaPugh</strong> for suggesting and <strong>@daniel-barnett</strong> for implementing.</p></li>
<li><p><code><a href="../reference/remove_empty.html">remove_empty()</a></code> and <code><a href="../reference/remove_constant.html">remove_constant()</a></code> now work with matrices (returning a matrix). (<a href='https://github.com/sfirke/janitor/issues/215'>#215</a>) Thanks to <strong>@jsta</strong> for reporting and <strong>@billdenney</strong> for patching.</p></li>
<li><p>If the third variable in a three-way tabyl is a factor, the resulting list is sorted in order of its levels (<a href='https://github.com/sfirke/janitor/issues/250'>#250</a>). Empty factor levels in the 3rd variable are still omitted regardless of the value of <code>show_missing_levels</code>.</p></li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug fixes</h2>
<ul>
<li><p><code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> no longer gives an overflow error for integer input (for dates since 1968). (<a href='https://github.com/sfirke/janitor/issues/241'>#241</a>) Thanks to <strong>@hideaki</strong> for reporting and <strong>@billdenney</strong> for patching.</p></li>
<li><p><code><a href="../reference/clean_names.html">clean_names()</a></code> and <code><a href="../reference/make_clean_names.html">make_clean_names()</a></code> now support ‘none’ as a case option, passed through to <code><a href="https://rdrr.io/pkg/snakecase/man/to_any_case.html">snakecase::to_any_case()</a></code>. (<a href='https://github.com/sfirke/janitor/issues/269'>#269</a>) Thanks to <strong>@andrewbarros</strong> for reporting and patching.</p></li>
</ul>
</div>
</div>
    <div id="janitor-1-1-1-2018-07-30" class="section level1">
<h1 class="page-header" data-toc-text="1.1.1">
<a href="#janitor-1-1-1-2018-07-30" class="anchor"></a>janitor 1.1.1 (2018-07-30)<small> 2018-07-31 </small>
</h1>
<div id="release-summary" class="section level2">
<h2 class="hasAnchor">
<a href="#release-summary" class="anchor"></a>Release summary</h2>
<p>Patches a bug introduced in version 1.1.0 where <code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> would fail if given an input vector containing an <code>NA</code> value.</p>
</div>
<div id="bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> again handles <code>NA</code> correctly, in version 1.1.0 the function would error if any values of the input vector were <code>NA</code>. (<a href='https://github.com/sfirke/janitor/issues/220'>#220</a>). Thanks <strong>@emilelatour</strong> for reporting and <strong>@billdenney</strong> for patching.</li>
</ul>
</div>
</div>
    <div id="janitor-1-1-0-2018-07-17" class="section level1">
<h1 class="page-header" data-toc-text="1.1.0">
<a href="#janitor-1-1-0-2018-07-17" class="anchor"></a>janitor 1.1.0 (2018-07-17)<small> 2018-07-18 </small>
</h1>
<div id="release-summary-1" class="section level2">
<h2 class="hasAnchor">
<a href="#release-summary-1" class="anchor"></a>Release summary</h2>
<p>This release was requested by CRAN to address some minor package dependency issues. It also contains several updates and additions described below.</p>
</div>
<div id="major-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#major-features-2" class="anchor"></a>Major features</h2>
<p>The new function <code><a href="../reference/row_to_names.html">row_to_names()</a></code> handles the case where a dirty data file is read in with its names stored as a row of the data.frame, rather than in the names. This function sets the names of the data.frame to this row and optionally cleans up the rows above and including where the names were stored. Thanks to <strong>@billdenney</strong> for writing this feature.</p>
</div>
<div id="minor-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-features-2" class="anchor"></a>Minor features</h2>
<p><code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> can now convert fractions of a day to time, e.g., <code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date(43001.01, include_time = TRUE)</a></code> returns the POSIXlt value <code>"2017-09-23 00:14:24"</code>. Thanks to <strong>@billdenney</strong>.</p>
</div>
<div id="breaking-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-1" class="anchor"></a>Breaking changes</h2>
<p>As part of <code><a href="../reference/excel_numeric_to_date.html">excel_numeric_to_date()</a></code> now handling times, if a Date-only result is requested (the default behavior of <code>include_time = FALSE</code>), any fractional part of the date is now removed. The printed date itself is identical, but the internal representation of this object now contains only the integer part of the date. For example, while under both the old and new versions of this function the call <code>excel_numeric_to_date_old(42001.1)</code> would return the Date object <code>"2014-12-28"</code>, calling <code>as.numeric</code> on this Date result would previously return <code>16432.1</code>, while now it returns <code>16432</code>.</p>
<p>This an improved behavior, as now <code>excel_numeric_to_date(42001.1, include_time = FALSE) == as.Date("2014-12-28")</code> returns TRUE, while previously it would appear to be equivalent from the printed value but this comparison would return FALSE.</p>
</div>
</div>
    <div id="janitor-1-0-0-2018-03-17" class="section level1">
<h1 class="page-header" data-toc-text="1.0.0">
<a href="#janitor-1-0-0-2018-03-17" class="anchor"></a>janitor 1.0.0 (2018-03-17)<small> 2018-03-22 </small>
</h1>
<div id="release-summary-2" class="section level2">
<h2 class="hasAnchor">
<a href="#release-summary-2" class="anchor"></a>Release summary</h2>
<p>A stable version 1.0.0, with a new <code>tabyl</code> API and with breaking changes to the output of <code><a href="../reference/clean_names.html">clean_names()</a></code>.</p>
<p>This builds on the original functionality of janitor, with similar-but-improved tools and significantly-changed implementation.</p>
</div>
<div id="breaking-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-2" class="anchor"></a>Breaking changes</h2>
<div id="a-fully-overhauled-tabyl" class="section level3">
<h3 class="hasAnchor">
<a href="#a-fully-overhauled-tabyl" class="anchor"></a>A fully-overhauled <code>tabyl</code>
</h3>
<p><code><a href="../reference/tabyl.html">tabyl()</a></code> is now a single function that can count combinations of one, two, or three variables, ala base R’s <code><a href="https://rdrr.io/r/base/table.html">table()</a></code>. The resulting <code>tabyl</code> data.frames can be manipulated and formatted using a family of <code>adorn_</code> functions. See the <a href="http://sfirke.github.io/janitor/articles/tabyls.html">tabyls vignette</a> for more.</p>
<p>The now-redundant legacy functions <code><a href="../reference/crosstab.html">crosstab()</a></code> and <code><a href="../reference/adorn_crosstab.html">adorn_crosstab()</a></code> have been deprecated, but remain in the package for now. Existing code that relies on the version of <code>tabyl</code> present in janitor versions &lt;= 0.3.1 will break if the <code>sort</code> argument was used, as that argument no longer exists in <code>tabyl</code> (use <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">dplyr::arrange()</a></code> instead).</p>
</div>
<div id="improvements-to-clean_names" class="section level3">
<h3 class="hasAnchor">
<a href="#improvements-to-clean_names" class="anchor"></a>Improvements to <code>clean_names</code>
</h3>
<p><code><a href="../reference/clean_names.html">clean_names()</a></code> now detects and preserves camelCase inputs, allows multiple options for case outputs of the cleaned names, and preserves whether there’s space between letters and numbers. It also transliterates accented letters and turns <code>#</code> into <code>"number"</code>.</p>
<p>These changes may cause old code to break. E.g., a raw column name <code>variableName</code> would now be converted to <code>variable_name</code> (or <code>variableName</code>, <code>VariableName</code>, etc. depending on your preference), where previously it would have been converted to <code>variablename</code>.</p>
<p>To minimize this inconvenience, there’s a quick fix for compatibility: you can find-and-replace to insert the argument <code>case = "old_janitor"</code>, preserving the old behavior of <code><a href="../reference/clean_names.html">clean_names()</a></code> as of janitor version 0.3.1 (and thus not have to redo your scripts beyond that.)</p>
<p>No further changes are planned to <code><a href="../reference/clean_names.html">clean_names()</a></code> and its results should be stable from version 1.0.0 onward.</p>
</div>
</div>
<div id="major-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#major-features-3" class="anchor"></a>Major features</h2>
<ul>
<li><p><code><a href="../reference/clean_names.html">clean_names()</a></code> transliterates accented letters, e.g., <code>çãüœ</code> becomes <code>cauoe</code> <a href="https://github.com/sfirke/janitor/issues/120">(<a href='https://github.com/sfirke/janitor/issues/120'>#120</a>)</a>. Thanks to <strong>@fernandovmacedo</strong>.</p></li>
<li>
<code><a href="../reference/clean_names.html">clean_names()</a></code> offers multiple options for variable name styling. In addition to <code>snake_case</code> output you can select <code>smallCamelCase</code>, <code>BigCamelCase</code>, <code>ALL_CAPS</code> and others. <a href="https://github.com/sfirke/janitor/issues/131">(<a href='https://github.com/sfirke/janitor/issues/131'>#131</a>)</a>.</li>
<li><p>Thanks to <strong>@tazinho</strong>, who wrote the <a href="https://github.com/Tazinho/snakecase/">snakecase</a> package that janitor depends on to do this, as well as the patch to incorporate it into <code><a href="../reference/clean_names.html">clean_names()</a></code>. And thanks to <strong>@maelle</strong> for proposing this feature.</p></li>
<li><p>Launched the janitor documentation website: <a href="http://sfirke.github.io/janitor" class="uri">http://sfirke.github.io/janitor</a>. Thanks to the <a href="https://github.com/r-lib/pkgdown">pkgdown</a> package.</p></li>
<li>Deprecated the functions <code><a href="../reference/remove_empty_rows.html">remove_empty_rows()</a></code> and <code><a href="../reference/remove_empty_cols.html">remove_empty_cols()</a></code>, which are replaced by the single function <code><a href="../reference/remove_empty.html">remove_empty()</a></code>. <a href="https://github.com/sfirke/janitor/issues/100">(<a href='https://github.com/sfirke/janitor/issues/100'>#100</a>)</a>
</li>
<li><p>To encourage transparency, <code><a href="../reference/remove_empty.html">remove_empty()</a></code> prints a message if no value is supplied for the <code>which</code> argument; to suppress this, supply a value to <code>which</code>, even if it’s the default <code><a href="https://rdrr.io/r/base/c.html">c("rows", "cols")</a></code>.</p></li>
<li><p>The new <code><a href="../reference/adorn_title.html">adorn_title()</a></code> function adds the name of the 2nd <code>tabyl</code> variable (i.e., the name of the column variable). This un-tidies the data.frame but makes the result clearer to readers <a href="https://github.com/sfirke/janitor/issues/77">(<a href='https://github.com/sfirke/janitor/issues/77'>#77</a>)</a></p></li>
</ul>
</div>
<div id="minor-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-features-3" class="anchor"></a>Minor features</h2>
<ul>
<li>The utility function <code><a href="../reference/round_half_up.html">round_half_up()</a></code> is now exported for public use. It’s an exact implementation of <a href="http://stackoverflow.com/questions/12688717/round-up-from-5-in-r/12688836<a href='https://github.com/sfirke/janitor/issues/12688836'>#12688836</a>" class="uri">http://stackoverflow.com/questions/12688717/round-up-from-5-in-r/12688836<a href='https://github.com/sfirke/janitor/issues/12688836'>#12688836</a></a>, written by <strong>@mrdwab</strong>.</li>
<li>
<code>tabyl</code> objects now print with row numbers suppressed</li>
<li>
<code><a href="../reference/clean_names.html">clean_names()</a></code> now retains the character <code>#</code> as <code>"number"</code> in the resulting names</li>
</ul>
</div>
<div id="bug-fixes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code><a href="../reference/adorn_totals.html">adorn_totals("row")</a></code> handles quirky variable names in 1st column <a href="https://github.com/sfirke/janitor/issues/118">(<a href='https://github.com/sfirke/janitor/issues/118'>#118</a>)</a>
</li>
<li>
<code><a href="../reference/get_dupes.html">get_dupes()</a></code> returns the correct result when a variable in the input data.frame is already called <code>"n"</code> <a href="https://github.com/sfirke/janitor/issues/162">(<a href='https://github.com/sfirke/janitor/issues/162'>#162</a>)</a>
</li>
</ul>
<hr>
</div>
</div>
    <div id="janitor-0-3-1-2018-01-04" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1">
<a href="#janitor-0-3-1-2018-01-04" class="anchor"></a>janitor 0.3.1 (2018-01-04)<small> 2018-01-04 </small>
</h1>
<div id="release-summary-3" class="section level2">
<h2 class="hasAnchor">
<a href="#release-summary-3" class="anchor"></a>Release summary</h2>
<p>This is a bug-fix release with no new functionality or changes. It fixes a bug where <code><a href="../reference/adorn_crosstab.html">adorn_crosstab()</a></code> failed if the <code>tibble</code> package was version &gt; 1.4.</p>
<p>Major changes to janitor are currently in development on GitHub and will be released soon. This is not that next big release.</p>
<hr>
</div>
</div>
    <div id="janitor-0-3-0-2017-05-06" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0">
<a href="#janitor-0-3-0-2017-05-06" class="anchor"></a>janitor 0.3.0 (2017-05-06)<small> 2017-05-06 </small>
</h1>
<div id="release-summary-4" class="section level2">
<h2 class="hasAnchor">
<a href="#release-summary-4" class="anchor"></a>Release summary</h2>
<p>The primary purpose of this release is to maintain accuracy given breaking changes to the dplyr package, upon which janitor is built, in dplyr version &gt;0.6.0. This update also contains a number of minor improvements.</p>
<p><strong>Critical: if you update the package <code>dplyr</code> to version &gt;0.6.0, you <em>must</em> update janitor to version 0.3.0 to ensure accurate results from janitor’s <code><a href="../reference/tabyl.html">tabyl()</a></code> function.</strong> This is due to a change in the behavior of dplyr’s <code>_join</code> functions (<em>discussed in <a href="https://github.com/sfirke/janitor/issues/111"><a href='https://github.com/sfirke/janitor/issues/111'>#111</a>)</a></em>.</p>
<p>janitor 0.3.0 is compatible with this new version of dplyr as well as old versions of dplyr back to 0.5.0. That is, updating janitor to 0.3.0 does not necessitate an update to dplyr &gt;0.6.0.</p>
</div>
<div id="breaking-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-3" class="anchor"></a>Breaking changes</h2>
<ul>
<li>The functions <code>add_totals_row</code> and <code>add_totals_col</code> were combined into a single function, <code><a href="../reference/adorn_totals.html">adorn_totals()</a></code>. <a href="https://github.com/sfirke/janitor/issues/57">(<a href='https://github.com/sfirke/janitor/issues/57'>#57</a>)</a>. The <code>add_totals_</code> functions are now deprecated and should not be used.</li>
<li>The first argument of <code><a href="../reference/adorn_crosstab.html">adorn_crosstab()</a></code> is now “dat” instead of “crosstab” (indicating that the function can be called on any data.frame, not just a result of <code><a href="../reference/crosstab.html">crosstab()</a></code>)</li>
</ul>
</div>
<div id="major-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#major-features-4" class="anchor"></a>Major features</h2>
<ul>
<li>Exported the <code><a href="../reference/pipe.html">%&gt;%</a></code> pipe from magrittr <a href="https://github.com/sfirke/janitor/issues/107">(<a href='https://github.com/sfirke/janitor/issues/107'>#107</a>)</a>.</li>
</ul>
<p><strong>Deprecated the following functions:</strong></p>
<ul>
<li>
<code><a href="../reference/use_first_valid_of.html">use_first_valid_of()</a></code> - use <code><a href="https://dplyr.tidyverse.org/reference/coalesce.html">dplyr::coalesce()</a></code> instead</li>
<li>
<code><a href="../reference/convert_to_NA.html">convert_to_NA()</a></code> - use <code><a href="https://dplyr.tidyverse.org/reference/na_if.html">dplyr::na_if()</a></code> instead</li>
<li>
<code><a href="../reference/add_totals_row.html">add_totals_row()</a></code> and <code><a href="../reference/add_totals_col.html">add_totals_col()</a></code> - replaced by the single function <code><a href="../reference/adorn_totals.html">adorn_totals()</a></code>
</li>
</ul>
</div>
<div id="minor-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-features-4" class="anchor"></a>Minor features</h2>
<ul>
<li>
<code><a href="../reference/adorn_totals.html">adorn_totals()</a></code> and <code>ns_to_percents()</code> can now be called on data.frames that have non-numeric columns beyond the first one (those columns will be ignored) <a href="https://github.com/sfirke/janitor/issues/57">(<a href='https://github.com/sfirke/janitor/issues/57'>#57</a>)</a>
</li>
<li>
<code><a href="../reference/adorn_totals.html">adorn_totals("col")</a></code> retains factor class in 1st column if 1st column in the input data.frame was a factor</li>
</ul>
</div>
<div id="bug-fixes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-4" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code><a href="../reference/clean_names.html">clean_names()</a></code> now handles leading spaces <a href="https://github.com/sfirke/janitor/issues/85">(<a href='https://github.com/sfirke/janitor/issues/85'>#85</a>)</a>
</li>
<li>
<code><a href="../reference/adorn_crosstab.html">adorn_crosstab()</a></code> and <code>ns_to_percents()</code> work on a 2-column data.frame <a href="https://github.com/sfirke/janitor/issues/89">(<a href='https://github.com/sfirke/janitor/issues/89'>#89</a>)</a>
</li>
<li>
<code><a href="../reference/adorn_totals.html">adorn_totals()</a></code> now works on a grouped tibble <a href="https://github.com/sfirke/janitor/issues/97">(<a href='https://github.com/sfirke/janitor/issues/97'>#97</a>)</a>
</li>
<li>Long variable names with spaces no longer break <code><a href="../reference/tabyl.html">tabyl()</a></code> and <code><a href="../reference/crosstab.html">crosstab()</a></code> <a href="https://github.com/sfirke/janitor/issues/87">(<a href='https://github.com/sfirke/janitor/issues/87'>#87</a>)</a>
</li>
<li>An <code>NA_</code> column in the result of a <code><a href="../reference/crosstab.html">crosstab()</a></code> will appear at the last column position <a href="https://github.com/sfirke/janitor/issues/109">(<a href='https://github.com/sfirke/janitor/issues/109'>#109</a>)</a>
</li>
</ul>
<hr>
</div>
</div>
    <div id="janitor-0-2-1-2016-10-30" class="section level1">
<h1 class="page-header" data-toc-text="0.2.1">
<a href="#janitor-0-2-1-2016-10-30" class="anchor"></a>janitor 0.2.1 (2016-10-30)<small> 2016-10-31 </small>
</h1>
<div id="bug-fixes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-5" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code><a href="../reference/tabyl.html">tabyl()</a></code> and <code><a href="../reference/crosstab.html">crosstab()</a></code> now appear in the package manual <a href="https://github.com/sfirke/janitor/issues/65">(<a href='https://github.com/sfirke/janitor/issues/65'>#65</a>)</a>
</li>
<li>Fixed minor bug per CRAN request - <code><a href="../reference/tabyl.html">tabyl()</a></code> and <code><a href="../reference/crosstab.html">crosstab()</a></code> failed to retain ill-formatted variable names only when using R 3.2.5 for Windows <a href="https://github.com/sfirke/janitor/issues/76">(<a href='https://github.com/sfirke/janitor/issues/76'>#76</a>)</a>
</li>
<li>
<code><a href="../reference/add_totals_row.html">add_totals_row()</a></code> works on two-column data.frame <a href="https://github.com/sfirke/janitor/issues/69">(<a href='https://github.com/sfirke/janitor/issues/69'>#69</a>)</a>
</li>
<li>
<code><a href="../reference/use_first_valid_of.html">use_first_valid_of()</a></code> returns POSIXct-class result when given POSIXct inputs</li>
</ul>
<hr>
</div>
</div>
    <div id="janitor-0-2-0-2016-10-03" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#janitor-0-2-0-2016-10-03" class="anchor"></a>janitor 0.2.0 (2016-10-03)<small> 2016-10-03 </small>
</h1>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<div id="major" class="section level3">
<h3 class="hasAnchor">
<a href="#major" class="anchor"></a>Major</h3>
<p><strong>Submitted to CRAN!</strong></p>
</div>
<div id="minor" class="section level3">
<h3 class="hasAnchor">
<a href="#minor" class="anchor"></a>Minor</h3>
<ul>
<li>The count in <code><a href="../reference/tabyl.html">tabyl()</a></code> for factor levels that aren’t present is now <code>0</code> instead of <code>NA</code> <a href="https://github.com/sfirke/janitor/issues/48">(<a href='https://github.com/sfirke/janitor/issues/48'>#48</a>)</a>
</li>
</ul>
</div>
</div>
<div id="bug-fixes-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-6" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Can call tabyl() on the result of a tabyl(), e.g., <code>mtcars %&gt;% tabyl(mpg) %&gt;% tabyl(n)</code> <a href="https://github.com/sfirke/janitor/issues/54">(<a href='https://github.com/sfirke/janitor/issues/54'>#54</a>)</a>
</li>
<li>
<code><a href="../reference/get_dupes.html">get_dupes()</a></code> now works on variables with spaces in column names <a href="https://github.com/sfirke/janitor/issues/62">(<a href='https://github.com/sfirke/janitor/issues/62'>#62</a>)</a>
</li>
</ul>
</div>
<div id="package-management" class="section level2">
<h2 class="hasAnchor">
<a href="#package-management" class="anchor"></a>Package management</h2>
<ul>
<li>Reached 100% unit test code coverage</li>
</ul>
<hr>
</div>
</div>
    <div id="janitor-0-1-2" class="section level1">
<h1 class="page-header" data-toc-text="0.1.2">
<a href="#janitor-0-1-2" class="anchor"></a>janitor 0.1.2<small> Unreleased </small>
</h1>
<div id="features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#features-1" class="anchor"></a>Features</h2>
<div id="major-1" class="section level3">
<h3 class="hasAnchor">
<a href="#major-1" class="anchor"></a>Major</h3>
<ul>
<li>Added a function <code><a href="../reference/adorn_crosstab.html">adorn_crosstab()</a></code> that formats the results of a <code><a href="../reference/crosstab.html">crosstab()</a></code> for pretty printing. Shows % and N in the same cell, with the % symbol, user-specified rounding (method and number of digits), and the option to include a totals row and/or column. E.g., <code>mtcars %&gt;% crosstab(cyl, gear) %&gt;% adorn_crosstab()</code>.</li>
<li>
<code><a href="../reference/crosstab.html">crosstab()</a></code> can be called in a <code><a href="../reference/pipe.html">%&gt;%</a></code> pipeline, e.g., <code>mtcars %&gt;% crosstab(cyl, gear)</code>. Thanks to <a href="https://github.com/chrishaid">@chrishaid</a> <a href="https://github.com/sfirke/janitor/pull/34">(<a href='https://github.com/sfirke/janitor/issues/34'>#34</a>)</a>
</li>
<li>
<code><a href="../reference/tabyl.html">tabyl()</a></code> can also be called in a <code><a href="../reference/pipe.html">%&gt;%</a></code> pipeline, e.g., <code>mtcars %&gt;% tabyl(cyl)</code> <a href="https://github.com/sfirke/janitor/issues/35">(<a href='https://github.com/sfirke/janitor/issues/35'>#35</a>)</a>
</li>
<li>Added <code><a href="../reference/use_first_valid_of.html">use_first_valid_of()</a></code> function <a href="https://github.com/sfirke/janitor/issues/32">(<a href='https://github.com/sfirke/janitor/issues/32'>#32</a>)</a>
</li>
<li>Added minor functions for manipulating numeric data.frames for presentation: <code>ns_to_percents()</code>, <code><a href="../reference/add_totals_row.html">add_totals_row()</a></code>, <code><a href="../reference/add_totals_col.html">add_totals_col()</a></code>,</li>
</ul>
</div>
<div id="minor-1" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-1" class="anchor"></a>Minor</h3>
<ul>
<li>
<code><a href="../reference/crosstab.html">crosstab()</a></code> returns 0 instead of NA when there are no instances of a variable combination.</li>
<li>A call like <code><a href="../reference/tabyl.html">tabyl(df$vecname)</a></code> retains the more-descriptive <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> symbol in the column name of the result - if you want a legal R name in the result, call it as <code>df %&gt;% tabyl(vecname)</code>
</li>
<li>Single and double quotation marks are handled by <code><a href="../reference/clean_names.html">clean_names()</a></code>
</li>
</ul>
</div>
</div>
<div id="package-management-1" class="section level2">
<h2 class="hasAnchor">
<a href="#package-management-1" class="anchor"></a>Package management</h2>
<ul>
<li>Added codecov to measure test coverage</li>
<li>Added unit test coverage</li>
<li>Added Travis-CI for continuous integration</li>
</ul>
<hr>
</div>
</div>
    <div id="janitor-0-1-2016-04-17" class="section level1">
<h1 class="page-header" data-toc-text="0.1">
<a href="#janitor-0-1-2016-04-17" class="anchor"></a>janitor 0.1 (2016-04-17)<small> Unreleased </small>
</h1>
<ul>
<li>Initial draft of skeleton package on GitHub</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sam Firke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


